# [硬不硬你说了算！近 40 张图解被问千百遍的 TCP 三次握手和四次挥手面试题](https://mp.weixin.qq.com/s/tH8RFmjrveOmgLvk9hmrkw)

## TCP 基本知识

瞧瞧 TCP 头格式

为什么需要 TCP 协议？TCP 工作在哪一层？

什么是 TCP ？

什么是 TCP 连接？

如何唯一确定一个 TCP 连接呢？

有一个 IP 的服务器监听了一个端口，它的 TCP 的最大连接数是多少？

UDP 和 TCP 有什么区别呢？分别的应用场景是？

为什么 UDP 头部没有「首部长度」字段，而 TCP 头部有「首部长度」字段呢？

为什么 UDP 头部有「包长度」字段，而 TCP 头部则没有「包长度」字段呢？

## TCP 连接建立

### TCP 三次握手过程和状态变迁



如何在 Linux 系统中查看 TCP 状态？

为什么是三次握手？不是两次、四次？

为什么客户端和服务端的初始序列号 ISN 是不相同的？

初始序列号 ISN 是如何随机产生的？

既然 IP 层会分片，为什么 TCP 层还需要 MSS 呢？

什么是 SYN 攻击？如何避免 SYN 攻击？

## TCP 连接断开

### TCP 四次挥手过程和状态变迁

为什么挥手需要四次？

为什么 TIME_WAIT 等待的时间是 2MSL？

为什么需要 TIME_WAIT 状态？

TIME_WAIT 过多有什么危害？

如何优化 TIME_WAIT？

如果已经建立了连接，但是客户端突然出现故障了怎么办？

## Socket 编程

针对 TCP 应该如何 Socket 编程？

listen 时候参数 backlog 的意义？

客户端调用 close 了，连接是断开的流程是什么？

# [你还在为 TCP 重传、滑动窗口、流量控制、拥塞控制发愁吗？看完图解就不愁了](https://mp.weixin.qq.com/s/Tc09ovdNacOtnMOMeRc_uA)

## 重传机制

#### 超时重传

超时时间应该设置为多少呢？

#### 快速重传

#### SACK 方法

#### Duplicate SACK

### 滑动窗口

引入窗口概念的原因

窗口大小由哪一方决定？

发送方的滑动窗口

程序是如何表示发送方的四个部分的呢？

接收方的滑动窗口

接收窗口和发送窗口的大小是相等的吗？

### 流量控制

#### 操作系统缓冲区与滑动窗口的关系

那操心系统的缓冲区，是如何影响发送窗口和接收窗口的呢？

#### 窗口关闭

窗口关闭潜在的危险

TCP 是如何解决窗口关闭时，潜在的死锁现象呢？

#### 糊涂窗口综合症

怎么让接收方不通告小窗口呢？

怎么让发送方避免发送小数据呢？

### 拥塞控制

为什么要有拥塞控制呀，不是有流量控制了吗？

什么是拥塞窗口？和发送窗口有什么关系呢？

那么怎么知道当前网络是否出现了拥塞呢？

拥塞控制有哪些控制算法？

#### 慢启动

那慢启动涨到什么时候是个头呢？

#### 拥塞避免算法

#### 拥塞发生

发生超时重传的拥塞发生算法

发生快速重传的拥塞发生算法

#### 快速恢复

# [IP 基础知识“全家桶”，45 张图一套带走](https://mp.weixin.qq.com/s/qydIO7NDfFTYs4-ZZlfgRg)

## IP 基本认识

### 网络层与数据链路层有什么关系呢？

## IP 地址的基础知识

### IP 地址的分类

#### 什么是 A、B、C 类地址？

#### A、B、C 分类地址最大主机个数是如何计算的呢？

#### 广播地址用于什么？

#### 什么是 D、E 类地址？

#### 多播地址用于什么？

#### IP 分类的优点

#### IP 分类的缺点

### 无分类地址 CIDR

#### 怎么划分网络号和主机号的呢？

#### 为什么要分离网络号和主机号？

#### 怎么进行子网划分？

### 公有 IP 地址与私有 IP 地址

#### 公有 IP 地址由谁管理呢？

### IP 地址与路由控制

#### 环回地址是不会流向网络

### IP 分片与重组

### IPv6 基本认识

#### IPv6 的亮点

#### IPv6 地址的标识方法

#### IPv6 地址的结构

#### IPv6 单播地址类型

### IPv4 首部与 IPv6 首部

## IP 协议相关技术

### DNS

#### 域名的层级关系

#### 域名解析的工作流程

### ARP

#### 那么 ARP 又是如何知道对方 MAC 地址的呢？

#### RARP 协议你知道是什么吗？

### DHCP

#### 咦，用的是广播，那如果 DHCP 服务器和客户端不是在同一个局域网内，路由器又不会转发广播包，那不是每个网络都要配一个 DHCP 服务器？

### NAT

#### 那不是 N 个 私有 IP 地址，你就要 N 个公有 IP 地址？这怎么就缓解了 IPv4 地址耗尽的问题？这不瞎扯吗？

#### NAT 那么牛逼，难道就没缺点了吗？

#### 如何解决 NAT 潜在的问题呢？

### ICMP

#### ICMP 功能都有啥？

#### ICMP 类型

### IGMP

#### IGMP 工作机制